(function(){const n=document.querySelector("[data-nav-toggle]"),e=document.querySelector("[data-nav-menu]"),o="a[href], button:not([disabled]), textarea, input, select";let s=null;if(n&&e){const i=n.querySelector("[data-hamburger]"),t=e=>{if(!i)return;i.classList.toggle("is-active",!!e)},a=()=>{e.classList.remove("is-open"),n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="",t(!1),s&&s.focus(),s=null};n.addEventListener("click",()=>{const i=e.classList.toggle("is-open");if(n.setAttribute("aria-expanded",String(i)),e.setAttribute("aria-hidden",String(!i)),t(i),i){s=document.activeElement;const t=e.querySelector(o);t&&t.focus(),document.body.style.overflow="hidden"}else document.body.style.overflow=""}),document.addEventListener("keyup",t=>{t.key==="Escape"&&e.classList.contains("is-open")&&a()}),e.addEventListener("click",e=>{e.target.matches("a")&&a()});const r=window.matchMedia("(min-width: 961px)"),c=s=>{s.matches&&(e.classList.remove("is-open"),n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","false"),document.body.style.overflow="",t(!1))};c(r),r.addEventListener("change",c)}const t=document.querySelector("[data-contact-form]");if(t){const e=t.querySelector("[data-contact-status]");t.addEventListener("submit",async n=>{n.preventDefault();const s=t.querySelector('input[name="address"]');if(s&&s.value.trim()!=="")return;e&&(e.textContent="Sendingâ€¦",e.setAttribute("aria-live","polite"));const o=t.dataset.endpoint,i=new FormData(t);try{if(!o)throw new Error("Missing endpoint");const n=await fetch(o,{method:"POST",body:i}),s=await n.text();if(!n.ok||!s.toLowerCase().includes("ok"))throw new Error(s||"Network response was not ok");t.reset(),e&&(e.textContent="Thank you for reaching out. We will respond shortly.")}catch{e&&(e.textContent="We were unable to submit the form. Please email info@sipeg.org.")}})}})()